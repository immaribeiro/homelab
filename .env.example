# Homelab Environment Variables
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control!
#
# The Makefile automatically loads .env when running targets.
# Some values are used directly (e.g., CLOUDFLARE_ZONE_API_TOKEN),
# while others serve as documentation for hardcoded YAML values.

# =============================================================================
# Network Configuration
# =============================================================================

# Lima VM network range
LIMA_NETWORK_PREFIX=192.168.105

# K3s control plane IP
K3S_CONTROL_PLANE_IP=192.168.105.2

# MetalLB IP pool
METALLB_IP_RANGE=192.168.105.50-192.168.105.60

# NGINX Ingress LoadBalancer IP (from MetalLB pool)
NGINX_INGRESS_IP=192.168.105.51

# Traefik LoadBalancer IP (from MetalLB pool)
TRAEFIK_LB_IP=192.168.105.50

# Mac host IP (for bare metal services like LM Studio)
# Get via: ifconfig | grep "inet " | grep -v 127.0.0.1
MAC_IP=192.168.1.100

# =============================================================================
# Cloudflare Configuration
# =============================================================================

# Cloudflare Account ID
CLOUDFLARE_ACCOUNT_ID=your-account-id-here

# Cloudflare Zone ID for immas.org
CLOUDFLARE_ZONE_ID=your-zone-id-here

# Cloudflare Tunnel ID
CLOUDFLARE_TUNNEL_ID=your-tunnel-id-here

# Cloudflare Tunnel Name
CLOUDFLARE_TUNNEL_NAME=homelab-fresh

# Cloudflare Tunnel Token (SENSITIVE - keep secret!)
# Get from: Zero Trust -> Networks -> Tunnels -> Configure -> Token
CLOUDFLARE_TUNNEL_TOKEN=your-tunnel-token-here

# =============================================================================
# Domain Configuration
# =============================================================================

# Base domain
BASE_DOMAIN=immas.org

# Application subdomains (full hostnames)
HOME_SUBDOMAIN=home.immas.org
HOME_ASSISTANT_SUBDOMAIN=ha.immas.org
PLEX_SUBDOMAIN=plex.immas.org

# =============================================================================
# TLS/SSL Configuration
# =============================================================================

# Let's Encrypt email for certificate notifications
LETSENCRYPT_EMAIL=imma.ribeiro@gmail.com

# Cloudflare API token for DNS challenge (cert-manager)
# Permissions: Zone:DNS:Edit for the zone
CLOUDFLARE_ZONE_API_TOKEN=your-cloudflare-zone-api-token-here

# =============================================================================
# Application-Specific Configuration
# =============================================================================

# Home Assistant
HOME_ASSISTANT_NAMESPACE=home-assistant
HOME_ASSISTANT_STORAGE_SIZE=5Gi
HOME_ASSISTANT_TIMEZONE=Europe/Lisbon

# Trusted proxy CIDR ranges (K8s pod and service networks)
K8S_POD_NETWORK=10.42.0.0/16
K8S_SERVICE_NETWORK=10.43.0.0/16

# =============================================================================
# VM Resource Allocation
# =============================================================================

# Control plane resources
CONTROL_PLANE_CPU=2
CONTROL_PLANE_MEMORY=4GiB
CONTROL_PLANE_DISK=20GiB

# Worker node resources
WORKER_CPU=2
WORKER_MEMORY=3GiB
WORKER_DISK=15GiB

# =============================================================================
# GitHub Configuration (for GitOps/Argo CD)
# =============================================================================

# GitHub repository
GITHUB_REPO=immaribeiro/homelab
GITHUB_BRANCH=main

# GitHub personal access token (for Argo CD)
# Permissions: repo (full control)
GITHUB_PAT=your-github-token-here
